<main>
	<article class="tips">
		<h2>Frontend Tips</h2>
		<section>
			<h3>Using array.filter() when array contains objects</h3>
			<p>When using array.filter() or other array methods on arrays containing objects, new array returned is NOT a deep clone of original array. If you plan to make changes to new array that should not affect the original array use jQuery's $.extend() with true parameter to deep clone the new array.</p>
	<pre>
//data is an array of objects [{name: 'Germany', isocode: 'de'}, {name: 'France', isocode: 'fr'}, ...]
getCountryData: function(data, isocode) {
	var self = this;
	var companies = data.companies.filter(function(item) {
		return item.isocode.toLowerCase() === isocode;
	});
	var temp = $.extend(true, [], companies); // we must deep copy array since it contains objects
	return temp;
}</pre>
		</section>

		<section id="handlebars">
			<h3>Handlebars </h3>
			<p>To access an array item by index</p>
			<pre>{{units.[0].location}}</pre>

			<p>It is possible to iterate objects in handlebars templates. In below example countries is an object of key:value pairs where key is letter of alphabet and value is an array of countries whose name starts with that letter. @key returns key and “this” returns value for that key. It’s possible to use “../“ to access parent properties.</p>
	<pre>&lt;dl&gt;
	{{#each countries}}
		&lt;dt&gt;{{toUpperCase @key}}&lt;/dt&gt;
		&lt;dd&gt;
			&lt;ul&gt;
			{{#each this}}
				&lt;li&gt;&lt;a href=&quot;{{../../url}}?country=&quot;{{country_name}}&gt;{{country_name}}&lt;/a&gt;&lt;/li&gt;
			{{/each}}
			&lt;/ul&gt;
		&lt;/dd&gt;
	{{/each}}
&lt;/dl&gt;

Handlebars.registerHelper('toUpperCase', function(str) {
	return str.toUpperCase();
});</pre>
		</section>

		<section id="json">
			<h3>Useing .fail() with getJSON:</h3>
			<pre>$.getJSON(json, successCallback).fail(errorCallback);</pre>
		</section>

		<section>
			<h3>JavaScript: Array</h3>
			<p>Removing duplicate objects from an array (<a href="https://stackoverflow.com/a/39886008/884177">https://stackoverflow.com/a/39886008/884177</a>)</p>
<pre>//remove duplicate coordinates
var occurances = [];
var uniqueLocations = coordinates.filter(function(item) {
	if (occurances.indexOf(item.latitude + item.longitude) !== -1) {
		return false;
	}
	occurances.push(item.latitude + item.longitude);
	return true;
});</pre>
			<p>Detecting whether array has an item or not:</p>
			<pre>myArray.indexOf(arrayItem); //if not found it returns -1</pre>

			<p>Filtering array</p>
			<pre>myArray.filter(function(arrayItem) { return condition; }); // returns a new array with array items that pass the condition</pre>
		</section>

		<section>
			<h3>JavaScript: String</h3>
<pre>
myString.charAt(0); //returns first letter of string
myString.toUpperCase();
myString.toLowerCase();
myString = originalString.replace(‘hello’, ‘world’); //replacing something that occurs only once
myString = oldString.replace(/,/g, '-‘); //replacing all occurrences of comma with a dash using regex
myString = oldString.split(‘,’).join(‘-‘); //replacing all occurrences of comma with a dash without using regex
</pre>
		</section>

		<section>
			<h3>JavaScript: Object</h3>
			<p>Use delete to remove a property from an object:</p>
			<pre>delete myObject[propertyName];</pre>
		</section>

		<section id="jquery">
			<h3>jQuery</h3>
			<p>To find out if an element is empty or not:</p>
			<pre>$(element).is(':empty')</pre>
		</section>

	</article>
</main>
